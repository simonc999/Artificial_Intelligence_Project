<?xml version="1.0" encoding="UTF-8"?>
<specificationSet xmlns="http://www.yawlfoundation.org/yawlschema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" version="4.0" xsi:schemaLocation="http://www.yawlfoundation.org/yawlschema http://www.yawlfoundation.org/yawlschema/YAWL_Schema4.0.xsd">
  <specification uri="OSA">
    <documentation>No description provided</documentation>
    <metaData>
      <creator>simon</creator>
      <description>No description provided</description>
      <coverage>5.0.801</coverage>
      <version>0.8</version>
      <persistent>false</persistent>
      <identifier>UID_d5385d6c-d2ae-418b-aae4-9111c0195514</identifier>
    </metaData>
    <xs:schema xmlns:xs="http://www.w3.org/2001/XMLSchema">
      <xs:simpleType name="DiagnosiOSA">
        <xs:restriction base="xs:string">
          <xs:enumeration value="Diagnosi OSA Lieve" />
          <xs:enumeration value="Diagnosi OSA Moderata" />
          <xs:enumeration value="Diagnosi OSA Grave" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="SceltaSesso">
        <xs:restriction base="xs:string">
          <xs:enumeration value="F" />
          <xs:enumeration value="M" />
          <xs:enumeration value="Altro" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="Trattamento">
        <xs:restriction base="xs:string">
          <xs:enumeration value="Trattamento terapia PAP" />
          <xs:enumeration value="Trattamento con dispositivi orali" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="Test">
        <xs:restriction base="xs:string">
          <xs:enumeration value="Polisonnografia" />
          <xs:enumeration value="Monitoraggio Non Assistito" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="EsitoTrattamento">
        <xs:restriction base="xs:string">
          <xs:enumeration value="Positivo" />
          <xs:enumeration value="Negativo" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="interoEpworth">
        <xs:restriction base="xs:integer">
          <xs:minInclusive value="0" />
          <xs:maxInclusive value="3" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="decimaleSaturazione">
        <xs:restriction base="xs:decimal">
          <xs:minInclusive value="0" />
          <xs:maxInclusive value="1" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="interoAHI">
        <xs:restriction base="xs:integer">
          <xs:minInclusive value="0" />
          <xs:maxInclusive value="200" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="decimaleALTEZZA">
        <xs:restriction base="xs:decimal">
          <xs:minInclusive value="0.4" />
          <xs:maxInclusive value="3.5" />
        </xs:restriction>
      </xs:simpleType>
      <xs:simpleType name="decimalePESO">
        <xs:restriction base="xs:decimal">
          <xs:minInclusive value="1" />
          <xs:maxInclusive value="600" />
        </xs:restriction>
      </xs:simpleType>
      <xs:complexType name="PunteggioEpworth">
        <xs:all>
          <xs:element name="SonnolenzaPomeriggioSdraiato" type="interoEpworth" />
          <xs:element name="SedutoConversando" type="interoEpworth" />
          <xs:element name="SedutoDopoPasti" type="interoEpworth" />
          <xs:element name="SedutoLeggendo" type="interoEpworth" />
          <xs:element name="GuardandoTV" type="interoEpworth" />
          <xs:element name="SedutoAutoTraffico" type="interoEpworth" />
          <xs:element name="SedutoPasseggero" type="interoEpworth" />
          <xs:element name="SedutoEsterno" type="interoEpworth" />
        </xs:all>
      </xs:complexType>
    </xs:schema>
    <decomposition id="Net" isRootNet="true" xsi:type="NetFactsType">
      <localVariable>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>1</index>
        <name>sonno_tipico</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>2</index>
        <name>diagnosi</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>Diagnosi OSA Moderata</initialValue>
      </localVariable>
      <localVariable>
        <index>3</index>
        <name>trattamento</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>Trattamento terapia PAP</initialValue>
      </localVariable>
      <localVariable>
        <index>4</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>5</index>
        <name>nome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>6</index>
        <name>cognome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>7</index>
        <name>cf</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>8</index>
        <name>codice_fascicolo_sanitario</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>9</index>
        <name>sesso</name>
        <type>SceltaSesso</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>Altro</initialValue>
      </localVariable>
      <localVariable>
        <index>10</index>
        <name>telefono</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>0</initialValue>
      </localVariable>
      <localVariable>
        <index>11</index>
        <name>esito_trattamento</name>
        <type>EsitoTrattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>Positivo</initialValue>
      </localVariable>
      <localVariable>
        <index>12</index>
        <name>data_nascita</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <processControlElements>
        <inputCondition id="InputCondition">
          <flowsInto>
            <nextElementRef id="Visita_preliminare" />
          </flowsInto>
        </inputCondition>
        <task id="Visita_preliminare">
          <name>Visita_preliminare</name>
          <flowsInto>
            <nextElementRef id="Visita_diagnostica" />
            <predicate ordering="1">/Net/visita_specialistica/text() = 'false' and /Net/no_sintomi/text() = 'false'</predicate>
          </flowsInto>
          <flowsInto>
            <nextElementRef id="OutputCondition" />
            <isDefaultFlow />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Visita_Specialistica" />
            <predicate ordering="0">/Net/visita_specialistica/text() = 'true' and /Net/no_sintomi/text() = 'false'</predicate>
          </flowsInto>
          <join code="and" />
          <split code="xor" />
          <startingMappings>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Net/no_sintomi/text()}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Net/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;sesso&gt;{/Visita_preliminare/sesso/text()}&lt;/sesso&gt;" />
              <mapsTo>sesso</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_preliminare/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cognome&gt;{/Visita_preliminare/cognome/text()}&lt;/cognome&gt;" />
              <mapsTo>cognome</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cf&gt;{/Visita_preliminare/cf/text()}&lt;/cf&gt;" />
              <mapsTo>cf</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;codice_fascicolo_sanitario&gt;{/Visita_preliminare/codice_fascicolo_sanitario/text()}&lt;/codice_fascicolo_sanitario&gt;" />
              <mapsTo>codice_fascicolo_sanitario</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;nome&gt;{/Visita_preliminare/nome/text()}&lt;/nome&gt;" />
              <mapsTo>nome</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_nascita&gt;{/Visita_preliminare/data_nascita/text()}&lt;/data_nascita&gt;" />
              <mapsTo>data_nascita</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;telefono&gt;{/Visita_preliminare/telefono/text()}&lt;/telefono&gt;" />
              <mapsTo>telefono</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Visita_preliminare/no_sintomi/text()}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
          </completedMappings>
          <decomposesTo id="Visita_preliminare" />
        </task>
        <task id="Visita_Specialistica">
          <name>Visita_Specialistica</name>
          <flowsInto>
            <nextElementRef id="OutputCondition" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;cf&gt;{/Net/cf/text()}&lt;/cf&gt;" />
              <mapsTo>cf</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cognome&gt;{/Net/cognome/text()}&lt;/cognome&gt;" />
              <mapsTo>cognome</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_nascita&gt;{/Net/data_nascita/text()}&lt;/data_nascita&gt;" />
              <mapsTo>data_nascita</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;sesso&gt;{/Net/sesso/text()}&lt;/sesso&gt;" />
              <mapsTo>sesso</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;nome&gt;{/Net/nome/text()}&lt;/nome&gt;" />
              <mapsTo>nome</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;telefono&gt;{/Net/telefono/text()}&lt;/telefono&gt;" />
              <mapsTo>telefono</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;codice_fascicolo_sanitario&gt;{/Net/codice_fascicolo_sanitario/text()}&lt;/codice_fascicolo_sanitario&gt;" />
              <mapsTo>codice_fascicolo_sanitario</mapsTo>
            </mapping>
          </startingMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-c5babd1e-e357-42ff-8302-042e70d40f8a</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Visita_Specialistica" />
        </task>
        <task id="Visita_diagnostica">
          <name>Visita_diagnostica</name>
          <flowsInto>
            <nextElementRef id="ModificheStileVita" />
            <isDefaultFlow />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Visita_Specialistica" />
            <predicate ordering="0">/Net/visita_specialistica/text() = 'true'</predicate>
          </flowsInto>
          <join code="and" />
          <split code="xor" />
          <startingMappings>
            <mapping>
              <expression query="&lt;polisonnografia_negativa&gt;{/Net/visita_specialistica/text()}&lt;/polisonnografia_negativa&gt;" />
              <mapsTo>polisonnografia_negativa</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;diagnosi&gt;{/Net/diagnosi/text()}&lt;/diagnosi&gt;" />
              <mapsTo>diagnosi</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;diagnosi&gt;{/Visita_diagnostica/diagnosi/text()}&lt;/diagnosi&gt;" />
              <mapsTo>diagnosi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_diagnostica/polisonnografia_negativa/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </completedMappings>
          <decomposesTo id="Visita_diagnostica" />
        </task>
        <task id="ModificheStileVita">
          <name>ModificheStileVita</name>
          <flowsInto>
            <nextElementRef id="Trattamento_Lieve_" />
            <predicate ordering="0">/Net/diagnosi/text() = 'Diagnosi OSA Lieve'</predicate>
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Trattamento_Grave_e_Moderato" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="ModificheStileVita" />
        </task>
        <task id="Trattamento_Grave_e_Moderato">
          <name>Trattamento Grave e Moderato</name>
          <flowsInto>
            <nextElementRef id="Aderenza" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;trattamento&gt;{/Net/trattamento/text()}&lt;/trattamento&gt;" />
              <mapsTo>trattamento</mapsTo>
            </mapping>
          </startingMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Trattamento_Grave_e_Moderato" />
        </task>
        <task id="Trattamento_Lieve_">
          <name>Trattamento Lieve</name>
          <flowsInto>
            <nextElementRef id="Aderenza" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;trattamento&gt;{/Net/trattamento/text()}&lt;/trattamento&gt;" />
              <mapsTo>trattamento</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;trattamento&gt;{/Trattamento_Lieve_/trattamento/text()}&lt;/trattamento&gt;" />
              <mapsTo>trattamento</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Trattamento_Lieve_" />
        </task>
        <task id="Aderenza">
          <name>Aderenza</name>
          <flowsInto>
            <nextElementRef id="Esecuzione_Trattamento" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <startingMappings>
            <mapping>
              <expression query="&lt;trattamento&gt;{/Net/trattamento/text()}&lt;/trattamento&gt;" />
              <mapsTo>trattamento</mapsTo>
            </mapping>
          </startingMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Aderenza" />
        </task>
        <task id="Esecuzione_Trattamento">
          <name>Esecuzione Trattamento</name>
          <flowsInto>
            <nextElementRef id="Visita_Follow_Up" />
          </flowsInto>
          <join code="and" />
          <split code="and" />
          <timer>
            <trigger>OnEnabled</trigger>
            <duration>PT5S</duration>
          </timer>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Esecuzione_Trattamento" />
        </task>
        <task id="Visita_Follow_Up">
          <name>Visita Follow Up</name>
          <flowsInto>
            <nextElementRef id="Visita_Specialistica" />
            <predicate ordering="0">/Net/esito_trattamento/text() = 'Negativo'</predicate>
          </flowsInto>
          <flowsInto>
            <nextElementRef id="OutputCondition" />
            <isDefaultFlow />
          </flowsInto>
          <join code="and" />
          <split code="xor" />
          <startingMappings>
            <mapping>
              <expression query="&lt;trattamento_FU&gt;{/Net/trattamento/text()}&lt;/trattamento_FU&gt;" />
              <mapsTo>trattamento_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;esito_trattamento&gt;{/Net/esito_trattamento/text()}&lt;/esito_trattamento&gt;" />
              <mapsTo>esito_trattamento</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;trattamento&gt;{/Visita_Follow_Up/trattamento_FU/text()}&lt;/trattamento&gt;" />
              <mapsTo>trattamento</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;esito_trattamento&gt;{/Visita_Follow_Up/esito_trattamento/text()}&lt;/esito_trattamento&gt;" />
              <mapsTo>esito_trattamento</mapsTo>
            </mapping>
          </completedMappings>
          <decomposesTo id="Visita_Follow_Up" />
        </task>
        <outputCondition id="OutputCondition" />
      </processControlElements>
    </decomposition>
    <decomposition id="Visita_Follow_Up" xsi:type="NetFactsType">
      <name>Visita Follow Up</name>
      <inputParam>
        <index>7</index>
        <name>trattamento_FU</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>10</index>
        <name>esito_trattamento</name>
        <type>EsitoTrattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>7</index>
        <name>trattamento_FU</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>10</index>
        <name>esito_trattamento</name>
        <type>EsitoTrattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <localVariable>
        <index>0</index>
        <name>SceltaTest</name>
        <type>Test</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>Polisonnografia</initialValue>
      </localVariable>
      <localVariable>
        <index>1</index>
        <name>epworth_FU</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>&lt;SonnolenzaPomeriggioSdraiato&gt;0&lt;/SonnolenzaPomeriggioSdraiato&gt;
 &lt;SedutoConversando&gt;0&lt;/SedutoConversando&gt;
 &lt;SedutoDopoPasti&gt;0&lt;/SedutoDopoPasti&gt;
 &lt;SedutoLeggendo&gt;0&lt;/SedutoLeggendo&gt;
 &lt;GuardandoTV&gt;0&lt;/GuardandoTV&gt;
 &lt;SedutoAutoTraffico&gt;0&lt;/SedutoAutoTraffico&gt;
 &lt;SedutoPasseggero&gt;0&lt;/SedutoPasseggero&gt;
 &lt;SedutoEsterno&gt;0&lt;/SedutoEsterno&gt;</initialValue>
      </localVariable>
      <localVariable>
        <index>2</index>
        <name>aderenza_al_trattamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>3</index>
        <name>complicanze_del_trattamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>4</index>
        <name>ossimetria_sospetta_FU</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>5</index>
        <name>buona_qualita_della_vita</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>6</index>
        <name>opinione_positiva_partner</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>8</index>
        <name>epworth_punteggio_FU</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>0</initialValue>
      </localVariable>
      <localVariable>
        <index>9</index>
        <name>ahi_FU</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>11</index>
        <name>data_ahi_fu</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <processControlElements>
        <inputCondition id="InputCondition_3">
          <flowsInto>
            <nextElementRef id="Questionario_PAP_FU" />
          </flowsInto>
        </inputCondition>
        <task id="Questionario_PAP_FU">
          <name>Questionario_PAP_FU</name>
          <flowsInto>
            <nextElementRef id="Valutazione_trattamento" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <startingMappings>
            <mapping>
              <expression query="&lt;trattamento_FU&gt;{/Visita_Follow_Up/trattamento_FU/text()}&lt;/trattamento_FU&gt;" />
              <mapsTo>trattamento_FU</mapsTo>
            </mapping>
          </startingMappings>
          <timer>
            <trigger>OnEnabled</trigger>
            <duration>PT10S</duration>
          </timer>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Questionario_PAP_FU" />
        </task>
        <task id="Valutazione_trattamento">
          <name>Valutazione_trattamento</name>
          <flowsInto>
            <nextElementRef id="Epworth_FU" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <completedMappings>
            <mapping>
              <expression query="&lt;opinione_positiva_partner&gt;{/Valutazione_trattamento/opinione_positiva_partner/text()}&lt;/opinione_positiva_partner&gt;" />
              <mapsTo>opinione_positiva_partner</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ossimetria_sospetta_FU&gt;{/Valutazione_trattamento/ossimetria_sospetta_FU/text()}&lt;/ossimetria_sospetta_FU&gt;" />
              <mapsTo>ossimetria_sospetta_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;aderenza_al_trattamento&gt;{/Valutazione_trattamento/aderenza_al_trattamento/text()}&lt;/aderenza_al_trattamento&gt;" />
              <mapsTo>aderenza_al_trattamento</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;buona_qualita_della_vita&gt;{/Valutazione_trattamento/buona_qualita_della_vita/text()}&lt;/buona_qualita_della_vita&gt;" />
              <mapsTo>buona_qualita_della_vita</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;complicanze_del_trattamento&gt;{/Valutazione_trattamento/complicanze_del_trattamento/text()}&lt;/complicanze_del_trattamento&gt;" />
              <mapsTo>complicanze_del_trattamento</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Valutazione_trattamento" />
        </task>
        <task id="Epworth_FU">
          <name>Epworth_FU</name>
          <flowsInto>
            <nextElementRef id="Calcolo_epworth_FU" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;epworth_FU&gt;{/Visita_Follow_Up/epworth_FU/*}&lt;/epworth_FU&gt;" />
              <mapsTo>epworth_FU</mapsTo>
            </mapping>
          </startingMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-0c2bfd05-7a83-435e-9222-5607d80ff6e2</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Epworth_FU" />
        </task>
        <task id="Calcolo_epworth_FU">
          <name>Calcolo_epworth_FU</name>
          <flowsInto>
            <nextElementRef id="Scelta_Test" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;epworth_FU&gt;{/Visita_Follow_Up/epworth_FU/*}&lt;/epworth_FU&gt;" />
              <mapsTo>epworth_FU</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;epworth_punteggio_FU&gt;{(number(/Calcolo_epworth_FU/epworth_FU/SedutoConversando/text()) + number(/Calcolo_epworth_FU/epworth_FU/SedutoDopoPasti/text())  + number(/Calcolo_epworth_FU/epworth_FU/SonnolenzaPomeriggioSdraiato/text())  + number(/Calcolo_epworth_FU/epworth_FU/SedutoLeggendo/text()) +  number(/Calcolo_epworth_FU/epworth_FU/GuardandoTV/text()) + number(/Calcolo_epworth_FU/epworth_FU/SedutoAutoTraffico/text()) + number(/Calcolo_epworth_FU/epworth_FU/SedutoPasseggero/text()) + number(/Calcolo_epworth_FU/epworth_FU/SedutoEsterno/text()) ) }&lt;/epworth_punteggio_FU&gt;" />
              <mapsTo>epworth_punteggio_FU</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Calcolo_epworth_FU" />
        </task>
        <task id="Scelta_Test">
          <name>Scelta Test</name>
          <flowsInto>
            <nextElementRef id="Monitoraggio_Non_Assistito" />
            <predicate ordering="0">/Visita_Follow_Up/SceltaTest/text() = 'Monitoraggio Non Assistito'</predicate>
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Polisonnografia_FU" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <completedMappings>
            <mapping>
              <expression query="&lt;SceltaTest&gt;{/Scelta_Test/SceltaTest/text()}&lt;/SceltaTest&gt;" />
              <mapsTo>SceltaTest</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Scelta_Test" />
        </task>
        <task id="Monitoraggio_Non_Assistito">
          <name>Monitoraggio Non Assistito</name>
          <flowsInto>
            <nextElementRef id="EsitoTrattamento" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <completedMappings>
            <mapping>
              <expression query="&lt;ahi_FU&gt;{/Monitoraggio_Non_Assistito/ahi_FU/text()}&lt;/ahi_FU&gt;" />
              <mapsTo>ahi_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_ahi_fu&gt;{/Monitoraggio_Non_Assistito/data_ahi_fu/text()}&lt;/data_ahi_fu&gt;" />
              <mapsTo>data_ahi_fu</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Monitoraggio_Non_Assistito" />
        </task>
        <task id="Polisonnografia_FU">
          <name>Polisonnografia_FU</name>
          <flowsInto>
            <nextElementRef id="EsitoTrattamento" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <completedMappings>
            <mapping>
              <expression query="&lt;ahi_FU&gt;{/PolisonnografiaFollowUp/ahi_FU/text()}&lt;/ahi_FU&gt;" />
              <mapsTo>ahi_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_ahi_fu&gt;{/PolisonnografiaFollowUp/data_ahi_fu/text()}&lt;/data_ahi_fu&gt;" />
              <mapsTo>data_ahi_fu</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="PolisonnografiaFollowUp" />
        </task>
        <task id="EsitoTrattamento">
          <name>EsitoTrattamento</name>
          <flowsInto>
            <nextElementRef id="OutputCondition_3" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;opinione_positiva_partner&gt;{/Visita_Follow_Up/opinione_positiva_partner/text()}&lt;/opinione_positiva_partner&gt;" />
              <mapsTo>opinione_positiva_partner</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;esito_trattamento&gt;{if(/Visita_Follow_Up/aderenza_al_trattamento/text() = 'true' and /Visita_Follow_Up/complicanze_del_trattamento/text() = 'false'&#xA;and (number(/Visita_Follow_Up/ahi_FU/text())&lt;20) and (number(/Visita_Follow_Up/epworth_punteggio_FU/text())&lt;12)) then 'Positivo' else 'Negativo'}&lt;/esito_trattamento&gt;" />
              <mapsTo>esito_trattamento</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;epworth_punteggio_FU&gt;{/Visita_Follow_Up/epworth_punteggio_FU/text()}&lt;/epworth_punteggio_FU&gt;" />
              <mapsTo>epworth_punteggio_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;buona_qualita_della_vita&gt;{/Visita_Follow_Up/buona_qualita_della_vita/text()}&lt;/buona_qualita_della_vita&gt;" />
              <mapsTo>buona_qualita_della_vita</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ahi_FU&gt;{/Visita_Follow_Up/ahi_FU/text()}&lt;/ahi_FU&gt;" />
              <mapsTo>ahi_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ossimetria_sospetta_FU&gt;{/Visita_Follow_Up/ossimetria_sospetta_FU/text()}&lt;/ossimetria_sospetta_FU&gt;" />
              <mapsTo>ossimetria_sospetta_FU</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;complicanze_del_trattamento&gt;{/Visita_Follow_Up/complicanze_del_trattamento/text()}&lt;/complicanze_del_trattamento&gt;" />
              <mapsTo>complicanze_del_trattamento</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;aderenza_al_trattamento&gt;{/Visita_Follow_Up/aderenza_al_trattamento/text()}&lt;/aderenza_al_trattamento&gt;" />
              <mapsTo>aderenza_al_trattamento</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;esito_trattamento&gt;{/EsitoTrattamento/esito_trattamento/text()}&lt;/esito_trattamento&gt;" />
              <mapsTo>esito_trattamento</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="EsitoTrattamento" />
        </task>
        <outputCondition id="OutputCondition_3" />
      </processControlElements>
    </decomposition>
    <decomposition id="Visita_diagnostica" xsi:type="NetFactsType">
      <inputParam>
        <index>1</index>
        <name>polisonnografia_negativa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>5</index>
        <name>diagnosi</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>1</index>
        <name>polisonnografia_negativa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>5</index>
        <name>diagnosi</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <localVariable>
        <index>0</index>
        <name>ahi</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>2</index>
        <name>saturazione_media</name>
        <type>decimaleSaturazione</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>3</index>
        <name>saturazione_minima</name>
        <type>decimaleSaturazione</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>4</index>
        <name>epworth</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>&lt;SonnolenzaPomeriggioSdraiato&gt;0&lt;/SonnolenzaPomeriggioSdraiato&gt;
 &lt;SedutoConversando&gt;0&lt;/SedutoConversando&gt;
 &lt;SedutoDopoPasti&gt;0&lt;/SedutoDopoPasti&gt;
 &lt;SedutoLeggendo&gt;0&lt;/SedutoLeggendo&gt;
 &lt;GuardandoTV&gt;0&lt;/GuardandoTV&gt;
 &lt;SedutoAutoTraffico&gt;0&lt;/SedutoAutoTraffico&gt;
 &lt;SedutoPasseggero&gt;0&lt;/SedutoPasseggero&gt;
 &lt;SedutoEsterno&gt;0&lt;/SedutoEsterno&gt;</initialValue>
      </localVariable>
      <localVariable>
        <index>6</index>
        <name>data_polisonnografia</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>7</index>
        <name>epworth_valore</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>0</initialValue>
      </localVariable>
      <localVariable>
        <index>8</index>
        <name>diagnosi_consigliata</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <processControlElements>
        <inputCondition id="InputCondition_2">
          <flowsInto>
            <nextElementRef id="T" />
          </flowsInto>
        </inputCondition>
        <task id="T">
          <name>T</name>
          <flowsInto>
            <nextElementRef id="Polisonnografia" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <timer>
            <trigger>OnEnabled</trigger>
            <duration>PT5S</duration>
          </timer>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Ti" />
        </task>
        <task id="Polisonnografia">
          <name>Polisonnografia</name>
          <flowsInto>
            <nextElementRef id="Polisonnografia_positiva" />
            <isDefaultFlow />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Polisonnografia_negativa" />
            <predicate ordering="0">/Visita_diagnostica/ahi/text() &lt;= 5</predicate>
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <completedMappings>
            <mapping>
              <expression query="&lt;ahi&gt;{/Polisonnografia/ahi/text()}&lt;/ahi&gt;" />
              <mapsTo>ahi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_polisonnografia&gt;{/Polisonnografia/data_polisonnografia/text()}&lt;/data_polisonnografia&gt;" />
              <mapsTo>data_polisonnografia</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Polisonnografia" />
        </task>
        <task id="Polisonnografia_negativa">
          <name>Polisonnografia_negativa</name>
          <flowsInto>
            <nextElementRef id="Controllo" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;polisonnografia_negativa&gt;{/Visita_diagnostica/polisonnografia_negativa/text() = boolean(0)}&lt;/polisonnografia_negativa&gt;" />
              <mapsTo>polisonnografia_negativa</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;polisonnografia_negativa&gt;{/Polisonnografia_negativa/polisonnografia_negativa/text() }&lt;/polisonnografia_negativa&gt;" />
              <mapsTo>polisonnografia_negativa</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Polisonnografia_negativa" />
        </task>
        <task id="Polisonnografia_positiva">
          <name>Polisonnografia_positiva</name>
          <flowsInto>
            <nextElementRef id="Survey" />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Saturazione" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;polisonnografia_negativa&gt;{/Visita_diagnostica/polisonnografia_negativa/text() = boolean(1)}&lt;/polisonnografia_negativa&gt;" />
              <mapsTo>polisonnografia_negativa</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;polisonnografia_negativa&gt;{/Polisonnografia_positiva/polisonnografia_negativa/text()}&lt;/polisonnografia_negativa&gt;" />
              <mapsTo>polisonnografia_negativa</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Polisonnografia_positiva" />
        </task>
        <task id="Controllo">
          <name>Controllo</name>
          <flowsInto>
            <nextElementRef id="OutputCondition_2" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Controllo" />
        </task>
        <task id="Saturazione">
          <name>Saturazione</name>
          <flowsInto>
            <nextElementRef id="Visualizza_dati" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <completedMappings>
            <mapping>
              <expression query="&lt;saturazione_minima&gt;{/Saturazione/saturazione_minima/text()}&lt;/saturazione_minima&gt;" />
              <mapsTo>saturazione_minima</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;saturazione_media&gt;{/Saturazione/saturazione_media/text()}&lt;/saturazione_media&gt;" />
              <mapsTo>saturazione_media</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Saturazione" />
        </task>
        <task id="Survey">
          <name>Survey</name>
          <flowsInto>
            <nextElementRef id="Epworth" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Survey" />
        </task>
        <task id="Epworth">
          <name>Epworth</name>
          <flowsInto>
            <nextElementRef id="Calcolo_Epworth" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;epworth&gt;{/Visita_diagnostica/epworth/*}&lt;/epworth&gt;" />
              <mapsTo>epworth</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;epworth&gt;{/Epworth/epworth/*}&lt;/epworth&gt;" />
              <mapsTo>epworth</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-0c2bfd05-7a83-435e-9222-5607d80ff6e2</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Epworth" />
        </task>
        <task id="Visualizza_dati">
          <name>Visualizza_dati_2</name>
          <flowsInto>
            <nextElementRef id="Diagnosi" />
          </flowsInto>
          <join code="and" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;epworth_valore&gt;{/Visita_diagnostica/epworth_valore/text()}&lt;/epworth_valore&gt;" />
              <mapsTo>epworth_valore</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ahi&gt;{/Visita_diagnostica/ahi/text()}&lt;/ahi&gt;" />
              <mapsTo>ahi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;diagnosi_consigliata&gt;{if( &#xA;number(/Visita_diagnostica/ahi/text())&gt;=5 and number(/Visita_diagnostica/ahi/text()) &lt;=15 and number(/Visita_diagnostica/saturazione_media/text())&gt;0.9 and number(/Visita_diagnostica/saturazione_minima/text())&gt;0.85 and number(/Visita_diagnostica/epworth_valore/text())&lt;=12) then 'Diagnosi OSA Lieve'&#xA;  else ( &#xA;  if( &#xA;  (  number(/Visita_diagnostica/ahi/text())&gt;=30 or number(/Visita_diagnostica/saturazione_media/text())&lt;0.9 or number(/Visita_diagnostica/saturazione_minima/text())&lt;0.7  )&#xA;    or number(/Visita_diagnostica/epworth_valore/text())&gt;=18&#xA;    ) then 'Diagnosi OSA Grave'  else  'Diagnosi OSA Moderata')}&lt;/diagnosi_consigliata&gt;" />
              <mapsTo>diagnosi_consigliata</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;saturazione_media&gt;{/Visita_diagnostica/saturazione_media/text()}&lt;/saturazione_media&gt;" />
              <mapsTo>saturazione_media</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;saturazione_minima&gt;{/Visita_diagnostica/saturazione_minima/text()}&lt;/saturazione_minima&gt;" />
              <mapsTo>saturazione_minima</mapsTo>
            </mapping>
          </startingMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Visualizza_dati_2" />
        </task>
        <task id="Calcolo_Epworth">
          <name>Calcolo_Epworth</name>
          <flowsInto>
            <nextElementRef id="Visualizza_dati" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;epworth&gt;{/Visita_diagnostica/epworth/*}&lt;/epworth&gt;" />
              <mapsTo>epworth</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;epworth_valore&gt;{(number(/Calcolo_Epworth/epworth/SedutoConversando/text()) + number(/Calcolo_Epworth/epworth/SedutoDopoPasti/text())  + number(/Calcolo_Epworth/epworth/SonnolenzaPomeriggioSdraiato/text())  + number(/Calcolo_Epworth/epworth/SedutoLeggendo/text()) +  number(/Calcolo_Epworth/epworth/GuardandoTV/text()) + number(/Calcolo_Epworth/epworth/SedutoAutoTraffico/text()) + number(/Calcolo_Epworth/epworth/SedutoPasseggero/text()) + number(/Calcolo_Epworth/epworth/SedutoEsterno/text()) ) }&lt;/epworth_valore&gt;" />
              <mapsTo>epworth_valore</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Calcolo_Epworth" />
        </task>
        <task id="Diagnosi">
          <name>Diagnosi</name>
          <flowsInto>
            <nextElementRef id="OutputCondition_2" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;diagnosi&gt;{if( &#xA;number(/Visita_diagnostica/ahi/text())&gt;=5 and number(/Visita_diagnostica/ahi/text()) &lt;=15 and number(/Visita_diagnostica/saturazione_media/text())&gt;0.9 and number(/Visita_diagnostica/saturazione_minima/text())&gt;0.85 and number(/Visita_diagnostica/epworth_valore/text())&lt;=12) then 'Diagnosi OSA Lieve'&#xA;  else ( &#xA;  if( &#xA;  (  number(/Visita_diagnostica/ahi/text())&gt;=30 or number(/Visita_diagnostica/saturazione_media/text())&lt;0.9 or number(/Visita_diagnostica/saturazione_minima/text())&lt;0.7  )&#xA;    or number(/Visita_diagnostica/epworth_valore/text())&gt;=18&#xA;    ) then 'Diagnosi OSA Grave'  else  'Diagnosi OSA Moderata')}&lt;/diagnosi&gt;" />
              <mapsTo>diagnosi</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;diagnosi&gt;{/Diagnosi/diagnosi/text()}&lt;/diagnosi&gt;" />
              <mapsTo>diagnosi</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Diagnosi" />
        </task>
        <outputCondition id="OutputCondition_2" />
      </processControlElements>
    </decomposition>
    <decomposition id="Visita_preliminare" xsi:type="NetFactsType">
      <inputParam>
        <index>3</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>34</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>nome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>23</index>
        <name>cf</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>24</index>
        <name>cognome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>25</index>
        <name>codice_fascicolo_sanitario</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>26</index>
        <name>data_nascita</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>31</index>
        <name>sesso</name>
        <type>SceltaSesso</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue>Altro</defaultValue>
      </outputParam>
      <outputParam>
        <index>32</index>
        <name>telefono</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue>0</defaultValue>
      </outputParam>
      <outputParam>
        <index>34</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <localVariable>
        <index>0</index>
        <name>nome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </localVariable>
      <localVariable>
        <index>1</index>
        <name>apnee_notturne</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>2</index>
        <name>circonferenza_collo_elevata</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>4</index>
        <name>menopausa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>5</index>
        <name>ossimetria_sospetta</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>6</index>
        <name>parasomnia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>7</index>
        <name>risveglio_soffocamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>8</index>
        <name>russamento_intenso</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>9</index>
        <name>sonnolenza_diurna</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>10</index>
        <name>apnea_notturna_severa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>11</index>
        <name>cad</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>12</index>
        <name>cvd</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>13</index>
        <name>diabete_tipo_2</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>14</index>
        <name>fibrillazione_atriale</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>15</index>
        <name>ipertensione</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>16</index>
        <name>malattia_neurologica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>17</index>
        <name>malattia_polmonare</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>18</index>
        <name>scompenso_cardiaco</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>19</index>
        <name>faringe_ridondante</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>20</index>
        <name>ipertrofia_tonsillare</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>21</index>
        <name>neoplasia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>22</index>
        <name>ostruzione_nasale</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>23</index>
        <name>cf</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>24</index>
        <name>cognome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>25</index>
        <name>codice_fascicolo_sanitario</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>26</index>
        <name>data_nascita</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>27</index>
        <name>data_visita_preliminare</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>28</index>
        <name>peso</name>
        <type>decimalePESO</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>29</index>
        <name>altezza</name>
        <type>decimaleALTEZZA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>30</index>
        <name>residenza</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>31</index>
        <name>sesso</name>
        <type>SceltaSesso</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue />
      </localVariable>
      <localVariable>
        <index>32</index>
        <name>telefono</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>0</initialValue>
      </localVariable>
      <localVariable>
        <index>33</index>
        <name>bmi</name>
        <type>decimal</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>0</initialValue>
      </localVariable>
      <localVariable>
        <index>35</index>
        <name>base_linguale_grande</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>36</index>
        <name>ipoplasia_medio_facciale</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>37</index>
        <name>laringotracheotomalacia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>38</index>
        <name>lunghezza_uvulare_eccessiva</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>39</index>
        <name>macroglassia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>40</index>
        <name>micrognazia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>41</index>
        <name>retrognazia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <localVariable>
        <index>42</index>
        <name>retrusione_iodea</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <initialValue>false</initialValue>
      </localVariable>
      <processControlElements>
        <inputCondition id="InputCondition_1">
          <flowsInto>
            <nextElementRef id="Registrazione_dati_anagrafici" />
          </flowsInto>
        </inputCondition>
        <task id="Registrazione_dati_anagrafici">
          <name>Registrazione_dati_anagrafici</name>
          <flowsInto>
            <nextElementRef id="Sintomi_tipici" />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Patologie_tipiche" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <completedMappings>
            <mapping>
              <expression query="&lt;sesso&gt;{/Registrazione_dati_anagrafici/sesso/text()}&lt;/sesso&gt;" />
              <mapsTo>sesso</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cf&gt;{/Registrazione_dati_anagrafici/cf/text()}&lt;/cf&gt;" />
              <mapsTo>cf</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;telefono&gt;{/Registrazione_dati_anagrafici/telefono/text()}&lt;/telefono&gt;" />
              <mapsTo>telefono</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;altezza&gt;{/Registrazione_dati_anagrafici/altezza/text()}&lt;/altezza&gt;" />
              <mapsTo>altezza</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_nascita&gt;{/Registrazione_dati_anagrafici/data_nascita/text()}&lt;/data_nascita&gt;" />
              <mapsTo>data_nascita</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;data_visita_preliminare&gt;{/Registrazione_dati_anagrafici/data_visita_preliminare/text()}&lt;/data_visita_preliminare&gt;" />
              <mapsTo>data_visita_preliminare</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;codice_fascicolo_sanitario&gt;{/Registrazione_dati_anagrafici/codice_fascicolo_sanitario/text()}&lt;/codice_fascicolo_sanitario&gt;" />
              <mapsTo>codice_fascicolo_sanitario</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;nome&gt;{/Registrazione_dati_anagrafici/nome/text()}&lt;/nome&gt;" />
              <mapsTo>nome</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;residenza&gt;{/Registrazione_dati_anagrafici/residenza/text()}&lt;/residenza&gt;" />
              <mapsTo>residenza</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;peso&gt;{/Registrazione_dati_anagrafici/peso/text()}&lt;/peso&gt;" />
              <mapsTo>peso</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cognome&gt;{/Registrazione_dati_anagrafici/cognome/text()}&lt;/cognome&gt;" />
              <mapsTo>cognome</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Registrazione_dati_anagrafici" />
        </task>
        <task id="Patologie_tipiche">
          <name>Patologie_tipiche</name>
          <flowsInto>
            <nextElementRef id="Calcolo_BMI" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <completedMappings>
            <mapping>
              <expression query="&lt;fibrillazione_atriale&gt;{/Patologie_tipiche/fibrillazione_atriale/text()}&lt;/fibrillazione_atriale&gt;" />
              <mapsTo>fibrillazione_atriale</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cad&gt;{/Patologie_tipiche/cad/text()}&lt;/cad&gt;" />
              <mapsTo>cad</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;cvd&gt;{/Patologie_tipiche/cvd/text()}&lt;/cvd&gt;" />
              <mapsTo>cvd</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ipertensione&gt;{/Patologie_tipiche/ipertensione/text()}&lt;/ipertensione&gt;" />
              <mapsTo>ipertensione</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;diabete_tipo_2&gt;{/Patologie_tipiche/diabete_tipo_2/text()}&lt;/diabete_tipo_2&gt;" />
              <mapsTo>diabete_tipo_2</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Patologie_tipiche" />
        </task>
        <task id="Sintomi_tipici">
          <name>Sintomi_tipici</name>
          <flowsInto>
            <nextElementRef id="Calcolo_BMI" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;circonferenza_collo_elevata&gt;{/Visita_preliminare/circonferenza_collo_elevata/text()}&lt;/circonferenza_collo_elevata&gt;" />
              <mapsTo>circonferenza_collo_elevata</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;risveglio_soffocamento&gt;{/Visita_preliminare/risveglio_soffocamento/text()}&lt;/risveglio_soffocamento&gt;" />
              <mapsTo>risveglio_soffocamento</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;sonnolenza_diurna&gt;{/Visita_preliminare/sonnolenza_diurna/text()}&lt;/sonnolenza_diurna&gt;" />
              <mapsTo>sonnolenza_diurna</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ossimetria_sospetta&gt;{/Visita_preliminare/ossimetria_sospetta/text()}&lt;/ossimetria_sospetta&gt;" />
              <mapsTo>ossimetria_sospetta</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;apnee_notturne&gt;{/Visita_preliminare/apnee_notturne/text()}&lt;/apnee_notturne&gt;" />
              <mapsTo>apnee_notturne</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;russamento_intenso&gt;{/Visita_preliminare/russamento_intenso/text()}&lt;/russamento_intenso&gt;" />
              <mapsTo>russamento_intenso</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;russamento_intenso&gt;{/Sintomi_tipici/russamento_intenso/text()}&lt;/russamento_intenso&gt;" />
              <mapsTo>russamento_intenso</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;apnee_notturne&gt;{/Sintomi_tipici/apnee_notturne/text()}&lt;/apnee_notturne&gt;" />
              <mapsTo>apnee_notturne</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;sonnolenza_diurna&gt;{/Sintomi_tipici/sonnolenza_diurna/text()}&lt;/sonnolenza_diurna&gt;" />
              <mapsTo>sonnolenza_diurna</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ossimetria_sospetta&gt;{/Sintomi_tipici/ossimetria_sospetta/text()}&lt;/ossimetria_sospetta&gt;" />
              <mapsTo>ossimetria_sospetta</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;circonferenza_collo_elevata&gt;{/Sintomi_tipici/circonferenza_collo_elevata/text()}&lt;/circonferenza_collo_elevata&gt;" />
              <mapsTo>circonferenza_collo_elevata</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;risveglio_soffocamento&gt;{/Sintomi_tipici/risveglio_soffocamento/text()}&lt;/risveglio_soffocamento&gt;" />
              <mapsTo>risveglio_soffocamento</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Sintomi_tipici" />
        </task>
        <task id="Calcolo_BMI">
          <name>Calcolo_BMI</name>
          <flowsInto>
            <nextElementRef id="symptoms_detected" />
            <predicate ordering="0">/Visita_preliminare/apnee_notturne/text() = 'true' or /Visita_preliminare/circonferenza_collo_elevata/text() = 'true' or /Visita_preliminare/ossimetria_sospetta/text() = 'true' or /Visita_preliminare/risveglio_soffocamento/text() = 'true' or /Visita_preliminare/russamento_intenso/text() = 'true' or /Visita_preliminare/sonnolenza_diurna/text() = 'true' or number(/Visita_preliminare/bmi/text())&gt;30  or /Visita_preliminare/cad/text() = 'true' or /Visita_preliminare/diabete_tipo_2/text() = 'true' or /Visita_preliminare/fibrillazione_atriale/text() = 'true' or /Visita_preliminare/cvd/text() = 'true'</predicate>
          </flowsInto>
          <flowsInto>
            <nextElementRef id="No_symptoms_detected" />
            <isDefaultFlow />
          </flowsInto>
          <join code="and" />
          <split code="xor" />
          <startingMappings>
            <mapping>
              <expression query="&lt;peso&gt;{/Visita_preliminare/peso/text()}&lt;/peso&gt;" />
              <mapsTo>peso</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;altezza&gt;{/Visita_preliminare/altezza/text()}&lt;/altezza&gt;" />
              <mapsTo>altezza</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;bmi&gt;{/Visita_preliminare/bmi/text()}&lt;/bmi&gt;" />
              <mapsTo>bmi</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;bmi&gt;{/Calcolo_BMI/bmi/text()}&lt;/bmi&gt;" />
              <mapsTo>bmi</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Calcolo_BMI" />
        </task>
        <task id="No_symptoms_detected">
          <name>No_symptoms_detected</name>
          <documentation>Non  stato trovato nessun sintomo: seleziona tramite la checkbox se continuare con l'iter per OSA (se selezionata "no_sintomi" l'iter terminer)</documentation>
          <flowsInto>
            <nextElementRef id="Set_no_symptoms" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="No_symptoms_detected" />
        </task>
        <task id="symptoms_detected">
          <name>symptoms_detected</name>
          <flowsInto>
            <nextElementRef id="Caratteristiche_sonno_anatomico" />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Sintomi_e_patologie_atipiche" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="symptoms_detected" />
        </task>
        <task id="Caratteristiche_sonno_anatomico">
          <name>Caratteristiche_sonno_anatomico</name>
          <flowsInto>
            <nextElementRef id="Fine_visita" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <completedMappings>
            <mapping>
              <expression query="&lt;ostruzione_nasale&gt;{/Caratteristiche_sonno_anatomico/ostruzione_nasale/text()}&lt;/ostruzione_nasale&gt;" />
              <mapsTo>ostruzione_nasale</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;lunghezza_uvulare_eccessiva&gt;{/Caratteristiche_sonno_anatomico/lunghezza_uvulare_eccessiva/text()}&lt;/lunghezza_uvulare_eccessiva&gt;" />
              <mapsTo>lunghezza_uvulare_eccessiva</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;retrognazia&gt;{/Caratteristiche_sonno_anatomico/retrognazia/text()}&lt;/retrognazia&gt;" />
              <mapsTo>retrognazia</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ipertrofia_tonsillare&gt;{/Caratteristiche_sonno_anatomico/ipertrofia_tonsillare/text()}&lt;/ipertrofia_tonsillare&gt;" />
              <mapsTo>ipertrofia_tonsillare</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;macroglassia&gt;{/Caratteristiche_sonno_anatomico/macroglassia/text()}&lt;/macroglassia&gt;" />
              <mapsTo>macroglassia</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;micrognazia&gt;{/Caratteristiche_sonno_anatomico/micrognazia/text()}&lt;/micrognazia&gt;" />
              <mapsTo>micrognazia</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;neoplasia&gt;{/Caratteristiche_sonno_anatomico/neoplasia/text()}&lt;/neoplasia&gt;" />
              <mapsTo>neoplasia</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;retrusione_iodea&gt;{/Caratteristiche_sonno_anatomico/retrusione_iodea/text()}&lt;/retrusione_iodea&gt;" />
              <mapsTo>retrusione_iodea</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;ipoplasia_medio_facciale&gt;{/Caratteristiche_sonno_anatomico/ipoplasia_medio_facciale/text()}&lt;/ipoplasia_medio_facciale&gt;" />
              <mapsTo>ipoplasia_medio_facciale</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;laringotracheotomalacia&gt;{/Caratteristiche_sonno_anatomico/laringotracheotomalacia/text()}&lt;/laringotracheotomalacia&gt;" />
              <mapsTo>laringotracheotomalacia</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;base_linguale_grande&gt;{/Caratteristiche_sonno_anatomico/base_linguale_grande/text()}&lt;/base_linguale_grande&gt;" />
              <mapsTo>base_linguale_grande</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;faringe_ridondante&gt;{/Caratteristiche_sonno_anatomico/faringe_ridondante/text()}&lt;/faringe_ridondante&gt;" />
              <mapsTo>faringe_ridondante</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Caratteristiche_sonno_anatomico" />
        </task>
        <task id="Set_no_symptoms">
          <name>Set_no_symptoms</name>
          <flowsInto>
            <nextElementRef id="OutputCondition_1" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Visita_preliminare/no_sintomi/text() = boolean(0)}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_preliminare/visita_specialistica/text() = boolean(1)}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Set_no_symptoms/no_sintomi/text() }&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Set_no_symptoms/visita_specialistica/text() = boolean(1)}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Set_no_symptoms" />
        </task>
        <task id="Sintomi_e_patologie_atipiche">
          <name>Sintomi e patologie atipiche</name>
          <flowsInto>
            <nextElementRef id="Fine_visita" />
            <isDefaultFlow />
          </flowsInto>
          <join code="xor" />
          <split code="xor" />
          <completedMappings>
            <mapping>
              <expression query="&lt;malattia_neurologica&gt;{/Sintomi_e_patologie_atipiche/malattia_neurologica/text()}&lt;/malattia_neurologica&gt;" />
              <mapsTo>malattia_neurologica</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;malattia_polmonare&gt;{/Sintomi_e_patologie_atipiche/malattia_polmonare/text()}&lt;/malattia_polmonare&gt;" />
              <mapsTo>malattia_polmonare</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;scompenso_cardiaco&gt;{/Sintomi_e_patologie_atipiche/scompenso_cardiaco/text()}&lt;/scompenso_cardiaco&gt;" />
              <mapsTo>scompenso_cardiaco</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;apnea_notturna_severa&gt;{/Sintomi_e_patologie_atipiche/apnea_notturna_severa/text()}&lt;/apnea_notturna_severa&gt;" />
              <mapsTo>apnea_notturna_severa</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;parasomnia&gt;{/Sintomi_e_patologie_atipiche/parasomnia/text()}&lt;/parasomnia&gt;" />
              <mapsTo>parasomnia</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Sintomi_e_patologie_atipiche" />
        </task>
        <task id="Fine_visita">
          <name>Fine_visita</name>
          <flowsInto>
            <nextElementRef id="Visita_specialistica" />
            <predicate ordering="0">(/Visita_preliminare/faringe_ridondante/text() = 'false' and /Visita_preliminare/ipertrofia_tonsillare/text() = 'false' and /Visita_preliminare/neoplasia/text() = 'false' and /Visita_preliminare/ostruzione_nasale/text() = 'false'  and  /Visita_preliminare/base_linguale_grande/text() = 'false' and /Visita_preliminare/ipoplasia_medio_facciale/text() = 'false' and /Visita_preliminare/laringotracheotomalacia/text() = 'false' and /Visita_preliminare/lunghezza_uvulare_eccessiva/text() = 'false' and /Visita_preliminare/macroglassia/text() = 'false' and /Visita_preliminare/micrognazia/text() = 'false' and /Visita_preliminare/retrognazia/text() = 'false' and /Visita_preliminare/retrusione_iodea/text() = 'false') and ( /Visita_preliminare/apnea_notturna_severa/text() = 'true' or  /Visita_preliminare/scompenso_cardiaco/text() = 'true' or  /Visita_preliminare/malattia_neurologica/text() = 'true' or  /Visita_preliminare/malattia_polmonare/text() = 'true' or  /Visita_preliminare/parasomnia/text() = 'true')</predicate>
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Dati_visualizzati" />
            <isDefaultFlow />
          </flowsInto>
          <flowsInto>
            <nextElementRef id="Visita_specialistica_anatomica" />
            <predicate ordering="1">/Visita_preliminare/faringe_ridondante/text() = 'true' or  /Visita_preliminare/ipertrofia_tonsillare/text() = 'true' or   /Visita_preliminare/neoplasia/text() = 'true' or  /Visita_preliminare/ostruzione_nasale/text() = 'true'  or  /Visita_preliminare/base_linguale_grande/text() = 'true' or /Visita_preliminare/ipoplasia_medio_facciale/text() = 'true' or /Visita_preliminare/laringotracheotomalacia/text() = 'true' or /Visita_preliminare/lunghezza_uvulare_eccessiva/text() = 'true' or /Visita_preliminare/macroglassia/text() = 'true' or  /Visita_preliminare/micrognazia/text() = 'true' or  /Visita_preliminare/retrognazia/text() = 'true' or  /Visita_preliminare/retrusione_iodea/text() = 'true'</predicate>
          </flowsInto>
          <join code="and" />
          <split code="xor" />
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="T" />
        </task>
        <task id="Dati_visualizzati">
          <name>Dati_visualizzati</name>
          <flowsInto>
            <nextElementRef id="OutputCondition_1" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Visita_preliminare/no_sintomi/text() = boolean(1)}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_preliminare/visita_specialistica/text()=boolean(1)}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Visita_preliminare/no_sintomi/text() = boolean(1)}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Dati_visualizzati/visita_specialistica/text() = boolean(1)}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Dati_visualizzati" />
        </task>
        <task id="Visita_specialistica">
          <name>Visita_specialistica</name>
          <documentation />
          <flowsInto>
            <nextElementRef id="Set_visita_specialistica" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_preliminare/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_specialistica/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Visita_specialistica" />
        </task>
        <task id="Visita_specialistica_anatomica">
          <name>Visita_specialistica_anatomica</name>
          <flowsInto>
            <nextElementRef id="Set_visita_specialistica" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_preliminare/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_specialistica_anatomica/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="system">
              <distributionSet>
                <initialSet>
                  <participant>PA-141e63c6-82c6-4127-9034-cf896b95f06f</participant>
                </initialSet>
              </distributionSet>
            </offer>
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Visita_specialistica_anatomica" />
        </task>
        <task id="Set_visita_specialistica">
          <name>Set_visita_specialistica</name>
          <flowsInto>
            <nextElementRef id="OutputCondition_1" />
          </flowsInto>
          <join code="xor" />
          <split code="and" />
          <startingMappings>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Visita_preliminare/no_sintomi/text() = boolean(1)}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Visita_preliminare/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
          </startingMappings>
          <completedMappings>
            <mapping>
              <expression query="&lt;visita_specialistica&gt;{/Set_visita_specialistica/visita_specialistica/text()}&lt;/visita_specialistica&gt;" />
              <mapsTo>visita_specialistica</mapsTo>
            </mapping>
            <mapping>
              <expression query="&lt;no_sintomi&gt;{/Set_visita_specialistica/no_sintomi/text() = boolean(1)}&lt;/no_sintomi&gt;" />
              <mapsTo>no_sintomi</mapsTo>
            </mapping>
          </completedMappings>
          <resourcing>
            <offer initiator="user" />
            <allocate initiator="user" />
            <start initiator="user" />
          </resourcing>
          <decomposesTo id="Set_visita_specialistica" />
        </task>
        <outputCondition id="OutputCondition_1" />
      </processControlElements>
    </decomposition>
    <decomposition id="Aderenza" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>trattamento</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.SurveyAdherence</codelet>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Calcolo_BMI" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>bmi</name>
        <type>decimal</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>peso</name>
        <type>decimalePESO</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>2</index>
        <name>altezza</name>
        <type>decimaleALTEZZA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>bmi</name>
        <type>decimal</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.CalculateBMI</codelet>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Calcolo_Epworth" xsi:type="WebServiceGatewayFactsType">
      <name>Calcolo Epworth</name>
      <inputParam>
        <index>0</index>
        <name>epworth</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>epworth</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Calcolo_epworth_FU" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>epworth_FU</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>epworth_FU</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Caratteristiche_sonno_anatomico" xsi:type="WebServiceGatewayFactsType" label="Inserire se il paziente presenta delle malformazioni anatomiche che necessitano interventi." title="Deformazioni anatomiche&#xA;">
      <outputParam>
        <index>0</index>
        <name>faringe_ridondante</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>ipertrofia_tonsillare</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>2</index>
        <name>neoplasia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>ostruzione_nasale</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>4</index>
        <name>base_linguale_grande</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>5</index>
        <name>ipoplasia_medio_facciale</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>6</index>
        <name>laringotracheotomalacia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>7</index>
        <name>lunghezza_uvulare_eccessiva</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>8</index>
        <name>macroglassia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>9</index>
        <name>micrognazia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>10</index>
        <name>retrognazia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>11</index>
        <name>retrusione_iodea</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Controllo" xsi:type="WebServiceGatewayFactsType" label="La polisonnografia  risultata negativa:  consigliata una visita specialistica.">
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Dati_visualizzati" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Diagnosi" xsi:type="WebServiceGatewayFactsType" label="Decidere se procedere con la diagnosi consigliata dal sistema o selezionarne una manualmente.">
      <inputParam>
        <index>0</index>
        <name>diagnosi</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>diagnosi</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Epworth" xsi:type="WebServiceGatewayFactsType" label="Quante probabilit hai di appisolarti o addormentarti nelle seguenti situazioni, invece di sentirti semplicemente stanco? Questo si riferisce al tuo solito modo di vivere negli ultimi tempi. Anche se non hai fatto alcune di queste cose di recente, prova a capire che effetto avrebbero avuto su di te. Per ogni domanda inserire un numero da 0 a 3. 0 --&gt; improbabile 1 --&gt; poco probabile 2 --&gt; possibile 3 --&gt; molto possibile Il punteggio massimo ottenibile e' 24.">
      <inputParam>
        <index>0</index>
        <name>epworth</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>epworth</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Epworth_FU" xsi:type="WebServiceGatewayFactsType" label="Quante probabilit hai di appisolarti o addormentarti nelle seguenti situazioni, invece di sentirti semplicemente stanco? Questo si riferisce al tuo solito modo di vivere negli ultimi tempi. Anche se non hai fatto alcune di queste cose di recente, prova a capire che effetto avrebbero avuto su di te. Per ogni domanda inserire un numero da 0 a 3. 0 --&gt; improbabile 1 --&gt; poco probabile 2 --&gt; possibile 3 --&gt; molto possibile Il punteggio massimo ottenibile e' 24.">
      <inputParam>
        <index>0</index>
        <name>epworth_FU</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>epworth_FU</name>
        <type>PunteggioEpworth</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Esecuzione_Trattamento" xsi:type="WebServiceGatewayFactsType">
      <name>Esecuzione Trattamento</name>
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.TimerCodelet</codelet>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="EsitoTrattamento" xsi:type="WebServiceGatewayFactsType" label="Inserire l'esito della visita di follow-up. Nel caso si valuti che il trattamento abbia avuto un esito negativo, il paziente verr segnalato ad un medico specialista.">
      <inputParam>
        <index>0</index>
        <name>esito_trattamento</name>
        <type>EsitoTrattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>ahi_FU</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>2</index>
        <name>epworth_punteggio_FU</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>3</index>
        <name>aderenza_al_trattamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>4</index>
        <name>complicanze_del_trattamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>5</index>
        <name>ossimetria_sospetta_FU</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>6</index>
        <name>buona_qualita_della_vita</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>7</index>
        <name>opinione_positiva_partner</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>esito_trattamento</name>
        <type>EsitoTrattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="ModificheStileVita" xsi:type="WebServiceGatewayFactsType">
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.LifestyleBanner</codelet>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Monitoraggio_Non_Assistito" xsi:type="WebServiceGatewayFactsType">
      <name>Monitoraggio Non Assistito</name>
      <outputParam>
        <index>0</index>
        <name>ahi_FU</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>data_ahi_fu</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="No_symptoms_detected" xsi:type="WebServiceGatewayFactsType" label="Il paziente presentatosi alla visita non riporta alcun sintomo tipico e/o fattori di rischio tipici dell'OSA, pertanto non si procede con il regolare flusso. " title="Caso paziente senza sintomi correllati all'OSA&#xA;">
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Patologie_tipiche" xsi:type="WebServiceGatewayFactsType" label="Inserire tra le seguenti patologie correlate all'OSA quelle da cui  eventualmente affetto il paziente." title="Patologie tipiche OSA">
      <outputParam>
        <index>0</index>
        <name>cad</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>cvd</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>2</index>
        <name>diabete_tipo_2</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>fibrillazione_atriale</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>4</index>
        <name>ipertensione</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Polisonnografia" xsi:type="WebServiceGatewayFactsType" label=" Visita diagnostica in corso: inserire il risultato della polisonnografia.L'indice AHI puo essere sostituito in maniera equivalente dall'indice RDI.">
      <outputParam>
        <index>0</index>
        <name>data_polisonnografia</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>ahi</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="PolisonnografiaFollowUp" xsi:type="WebServiceGatewayFactsType">
      <outputParam>
        <index>0</index>
        <name>ahi_FU</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>data_ahi_fu</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Polisonnografia_negativa" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>polisonnografia_negativa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>polisonnografia_negativa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Polisonnografia_positiva" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>polisonnografia_negativa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>polisonnografia_negativa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Questionario_PAP_FU" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>trattamento_FU</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.SurveyPAPFU</codelet>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Registrazione_dati_anagrafici" xsi:type="WebServiceGatewayFactsType" hideBanner="true" label="Compilare i campi relativi ai dati anagrafici del paziente. Inserire l'altezza in metri e il peso in kg." max-field-width="0" title="Registrazione anagrafica">
      <outputParam>
        <index>0</index>
        <name>nome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>cognome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>2</index>
        <name>sesso</name>
        <type>SceltaSesso</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>cf</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>4</index>
        <name>data_nascita</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>5</index>
        <name>altezza</name>
        <type>decimaleALTEZZA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>6</index>
        <name>peso</name>
        <type>decimalePESO</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>7</index>
        <name>codice_fascicolo_sanitario</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>8</index>
        <name>data_visita_preliminare</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>9</index>
        <name>residenza</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>10</index>
        <name>telefono</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.TimerCodelet</codelet>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Saturazione" xsi:type="WebServiceGatewayFactsType" label="Inserire i valori di saturazione registrati (inserire un numero decimale tra 0 e 1 esclusi simboli di percentuale).">
      <outputParam>
        <index>0</index>
        <name>saturazione_media</name>
        <type>decimaleSaturazione</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>saturazione_minima</name>
        <type>decimaleSaturazione</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Scelta_Test" xsi:type="WebServiceGatewayFactsType" label="Decidere se effettuare una Polisonnografia o un Monitoraggio non Assistito. Si tratta di una scelta arbitraria del medico.">
      <name>Scelta Test</name>
      <outputParam>
        <index>0</index>
        <name>SceltaTest</name>
        <type>Test</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Set_no_symptoms" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Set_visita_specialistica" xsi:type="WebServiceGatewayFactsType">
      <inputParam>
        <index>0</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>no_sintomi</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Sintomi_e_patologie_atipiche" xsi:type="WebServiceGatewayFactsType" label="Inserire tra i seguenti sintomi e patologie non correlati all'OSA quelli da cui eventualmente e' affetto il paziente." title="Sintomi e patologie atipiche OSA">
      <name>Sintomi e patologie atipiche</name>
      <outputParam>
        <index>0</index>
        <name>parasomnia</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>apnea_notturna_severa</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>2</index>
        <name>malattia_neurologica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>malattia_polmonare</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>4</index>
        <name>scompenso_cardiaco</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Sintomi_tipici" xsi:type="WebServiceGatewayFactsType" label="Inserire i sintomi che il paziente presenta." title="Sintomi relativi al disturbo del sonno">
      <inputParam>
        <index>0</index>
        <name>ossimetria_sospetta</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>apnee_notturne</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>2</index>
        <name>risveglio_soffocamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>3</index>
        <name>circonferenza_collo_elevata</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>4</index>
        <name>russamento_intenso</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>5</index>
        <name>sonnolenza_diurna</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>ossimetria_sospetta</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>apnee_notturne</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>2</index>
        <name>risveglio_soffocamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>circonferenza_collo_elevata</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>4</index>
        <name>russamento_intenso</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <outputParam>
        <index>5</index>
        <name>sonnolenza_diurna</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Survey" xsi:type="WebServiceGatewayFactsType">
      <codelet>org.yawlfoundation.yawl.resourcing.codelets.EpworthSurveyExample</codelet>
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="T" xsi:type="WebServiceGatewayFactsType">
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Ti" xsi:type="WebServiceGatewayFactsType">
      <externalInteraction>automated</externalInteraction>
    </decomposition>
    <decomposition id="Trattamento_Grave_e_Moderato" xsi:type="WebServiceGatewayFactsType" label="Considerata la diagnosi di OSA di severit Moderata/Grave e' norma un trattamento con PAP. Esistono tre tiplogie di trattamento PAP: CPAP, AutoPAP, Bi-level PAP. ">
      <name>Trattamento Grave e Moderato</name>
      <inputParam>
        <index>0</index>
        <name>trattamento</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Trattamento_Lieve_" xsi:type="WebServiceGatewayFactsType" label="Selezionare il tipo di trattamento. Esistono tre tiplogie di trattamento PAP: CPAP, AutoPAP, Bi-level PAP. ">
      <name>Trattamento Lieve</name>
      <inputParam>
        <index>0</index>
        <name>trattamento</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>trattamento</name>
        <type>Trattamento</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Valutazione_trattamento" xsi:type="WebServiceGatewayFactsType" label="Valutazione qualitativa del trattamento descritto al paziente.">
      <outputParam>
        <index>0</index>
        <name>aderenza_al_trattamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>1</index>
        <name>complicanze_del_trattamento</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>2</index>
        <name>ossimetria_sospetta_FU</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>3</index>
        <name>buona_qualita_della_vita</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <outputParam>
        <index>4</index>
        <name>opinione_positiva_partner</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
        <defaultValue />
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Visita_Specialistica" xsi:type="WebServiceGatewayFactsType" label="Questo paziente  stato segnalato per  eseguire una visita specialistica pi approfondita.">
      <name>Visita Specialistica</name>
      <inputParam>
        <index>0</index>
        <name>nome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>cognome</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>2</index>
        <name>data_nascita</name>
        <type>date</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>3</index>
        <name>cf</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>4</index>
        <name>codice_fascicolo_sanitario</name>
        <type>string</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>5</index>
        <name>sesso</name>
        <type>SceltaSesso</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>6</index>
        <name>telefono</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Visita_specialistica" xsi:type="WebServiceGatewayFactsType" label="Il paziente presenta dei sintomi e/o patologie atipici. La visita specialistica  consigliata: seleziona tramite la checkbox se eseguire una visita specialistica oppure continuare con l'iter per OSA." title="Visita preliminare atipica">
      <inputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Visita_specialistica_anatomica" xsi:type="WebServiceGatewayFactsType" label="Il paziente presenta delle malformazioni anatomiche. Si consiglia di procedere con un intervento chirurgico e una visita specialistica: seleziona tramite la checkbox se eseguire una visita specialistica oppure continuare con l'iter per OSA." title="Visita preliminare anatomica">
      <inputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <outputParam>
        <index>0</index>
        <name>visita_specialistica</name>
        <type>boolean</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </outputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="Visualizza_dati_2" xsi:type="WebServiceGatewayFactsType" label="In base ai dati raccolti il sistema consiglia la diagnosi di OSA sotto riportata.">
      <inputParam>
        <index>0</index>
        <name>saturazione_media</name>
        <type>decimal</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>1</index>
        <name>saturazione_minima</name>
        <type>decimal</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>2</index>
        <name>epworth_valore</name>
        <type>integer</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>3</index>
        <name>diagnosi_consigliata</name>
        <type>DiagnosiOSA</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <inputParam>
        <index>4</index>
        <name>ahi</name>
        <type>interoAHI</type>
        <namespace>http://www.w3.org/2001/XMLSchema</namespace>
      </inputParam>
      <externalInteraction>manual</externalInteraction>
    </decomposition>
    <decomposition id="symptoms_detected" xsi:type="WebServiceGatewayFactsType">
      <externalInteraction>automated</externalInteraction>
    </decomposition>
  </specification>
  <layout>
    <locale language="it" country="IT"/>
    <specification id="OSA" defaultBgColor="-526351">
      <size w="132" h="28"/>
      <net id="Visita_diagnostica" bgColor="-526351">
        <bounds x="0" y="-4" w="1285" h="509"/>
        <frame x="0" y="0" w="1303" h="508"/>
        <viewport x="0" y="0" w="1303" h="508"/>
        <vertex id="InputCondition_2">
          <attributes>
            <bounds x="36" y="308" w="32" h="32"/>
          </attributes>
        </vertex>
        <vertex id="OutputCondition_2">
          <attributes>
            <bounds x="788" y="240" w="32" h="32"/>
          </attributes>
        </vertex>
        <container id="Diagnosi">
          <vertex>
            <attributes>
              <bounds x="748" y="324" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="716" y="356" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Survey">
          <vertex>
            <attributes>
              <bounds x="340" y="436" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="308" y="468" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Polisonnografia_positiva">
          <vertex>
            <attributes>
              <bounds x="240" y="376" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="188" y="408" w="151" h="21"/>
            </attributes>
          </label>
          <decorator type="AND_split">
            <position>13</position>
            <attributes>
              <bounds x="271" y="376" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Saturazione">
          <vertex>
            <attributes>
              <bounds x="340" y="324" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="308" y="356" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="T">
          <vertex>
            <attributes>
              <bounds x="108" y="308" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="76" y="340" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Controllo">
          <vertex>
            <attributes>
              <bounds x="372" y="240" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="340" y="272" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Polisonnografia">
          <vertex>
            <attributes>
              <bounds x="180" y="308" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="152" y="340" w="97" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="211" y="308" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Polisonnografia_negativa">
          <vertex>
            <attributes>
              <bounds x="244" y="240" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="188" y="272" w="157" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Epworth">
          <vertex>
            <attributes>
              <bounds x="408" y="436" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="376" y="468" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Visualizza_dati">
          <vertex>
            <attributes>
              <bounds x="628" y="324" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="588" y="356" w="110" h="21"/>
            </attributes>
          </label>
          <decorator type="AND_join">
            <position>12</position>
            <attributes>
              <bounds x="618" y="324" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Calcolo_Epworth">
          <vertex>
            <attributes>
              <bounds x="516" y="436" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="480" y="468" w="109" h="21"/>
            </attributes>
          </label>
        </container>
        <flow source="Controllo" target="OutputCondition_2">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Polisonnografia" target="Polisonnografia_negativa">
          <ports in="1" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="T" target="Polisonnografia">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Polisonnografia_negativa" target="Controllo">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Diagnosi" target="OutputCondition_2">
          <ports in="13" out="11"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Polisonnografia_positiva" target="Survey">
          <ports in="4" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visualizza_dati" target="Diagnosi">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Polisonnografia" target="Polisonnografia_positiva">
          <ports in="4" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Epworth" target="Calcolo_Epworth">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Survey" target="Epworth">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Calcolo_Epworth" target="Visualizza_dati">
          <ports in="13" out="3"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="InputCondition_2" target="T">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Polisonnografia_positiva" target="Saturazione">
          <ports in="1" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Saturazione" target="Visualizza_dati">
          <ports in="13" out="2"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
      </net>
      <net id="Visita_preliminare" bgColor="-526351">
        <bounds x="0" y="0" w="1300" h="505"/>
        <frame x="0" y="0" w="1303" h="508"/>
        <viewport x="0" y="0" w="1303" h="508"/>
        <vertex id="InputCondition_1">
          <attributes>
            <bounds x="16" y="228" w="32" h="32"/>
          </attributes>
        </vertex>
        <vertex id="OutputCondition_1">
          <attributes>
            <bounds x="1.180" y="196" w="32" h="32"/>
          </attributes>
        </vertex>
        <container id="Caratteristiche_sonno_anatomico">
          <vertex>
            <attributes>
              <bounds x="512" y="76" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="436" y="108" w="203" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="543" y="76" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Set_no_symptoms">
          <vertex>
            <attributes>
              <bounds x="852" y="288" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="816" y="320" w="113" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Sintomi_e_patologie_atipiche">
          <vertex>
            <attributes>
              <bounds x="516" y="196" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="488" y="228" w="97" h="61"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="547" y="196" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Registrazione_dati_anagrafici">
          <vertex>
            <attributes>
              <bounds x="95" y="228" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="28" y="260" w="182" h="21"/>
            </attributes>
          </label>
          <decorator type="AND_split">
            <position>13</position>
            <attributes>
              <bounds x="126" y="228" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Patologie_tipiche">
          <vertex>
            <attributes>
              <bounds x="192" y="388" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="160" y="420" w="106" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Fine_visita">
          <vertex>
            <attributes>
              <bounds x="640" y="136" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="608" y="168" w="96" h="20"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="671" y="136" w="11" h="32"/>
            </attributes>
          </decorator>
          <decorator type="AND_join">
            <position>12</position>
            <attributes>
              <bounds x="630" y="136" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Visita_specialistica_anatomica">
          <vertex>
            <attributes>
              <bounds x="748" y="28" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="676" y="60" w="189" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="symptoms_detected">
          <vertex>
            <attributes>
              <bounds x="404" y="152" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="368" y="184" w="121" h="21"/>
            </attributes>
          </label>
          <decorator type="AND_split">
            <position>13</position>
            <attributes>
              <bounds x="435" y="152" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Dati_visualizzati">
          <vertex>
            <attributes>
              <bounds x="744" y="196" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="712" y="228" w="103" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="No_symptoms_detected">
          <vertex>
            <attributes>
              <bounds x="408" y="288" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="352" y="320" w="147" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Set_visita_specialistica">
          <vertex>
            <attributes>
              <bounds x="992" y="76" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="936" y="108" w="143" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_join">
            <position>12</position>
            <attributes>
              <bounds x="982" y="76" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Sintomi_tipici">
          <vertex>
            <attributes>
              <bounds x="196" y="80" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="164" y="112" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Calcolo_BMI">
          <vertex>
            <attributes>
              <bounds x="284" y="224" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="252" y="256" w="97" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="315" y="224" w="11" h="32"/>
            </attributes>
          </decorator>
          <decorator type="AND_join">
            <position>12</position>
            <attributes>
              <bounds x="274" y="224" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Visita_specialistica">
          <vertex>
            <attributes>
              <bounds x="748" y="116" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="708" y="148" w="121" h="21"/>
            </attributes>
          </label>
        </container>
        <flow source="Set_visita_specialistica" target="OutputCondition_1">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Sintomi_e_patologie_atipiche" target="Fine_visita">
          <ports in="2" out="3"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Dati_visualizzati" target="OutputCondition_1">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Caratteristiche_sonno_anatomico" target="Fine_visita">
          <ports in="2" out="2"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Registrazione_dati_anagrafici" target="Patologie_tipiche">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Patologie_tipiche" target="Calcolo_BMI">
          <ports in="13" out="3"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Fine_visita" target="Visita_specialistica">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Calcolo_BMI" target="symptoms_detected">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="symptoms_detected" target="Caratteristiche_sonno_anatomico">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Sintomi_tipici" target="Calcolo_BMI">
          <ports in="13" out="2"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="symptoms_detected" target="Sintomi_e_patologie_atipiche">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="InputCondition_1" target="Registrazione_dati_anagrafici">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_specialistica_anatomica" target="Set_visita_specialistica">
          <ports in="13" out="1"/>
          <attributes>
            <lineStyle>13</lineStyle>
            <points>
              <value x="771" y="75,5"/>
              <value x="872" y="36"/>
              <value x="974" y="79,75"/>
            </points>
          </attributes>
        </flow>
        <flow source="Fine_visita" target="Dati_visualizzati">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Fine_visita" target="Visita_specialistica_anatomica">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Registrazione_dati_anagrafici" target="Sintomi_tipici">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_specialistica" target="Set_visita_specialistica">
          <ports in="13" out="2"/>
          <attributes>
            <lineStyle>13</lineStyle>
            <points>
              <value x="775" y="151,5"/>
              <value x="878" y="137"/>
              <value x="982" y="123,5"/>
            </points>
          </attributes>
        </flow>
        <flow source="Set_no_symptoms" target="OutputCondition_1">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="No_symptoms_detected" target="Set_no_symptoms">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Calcolo_BMI" target="No_symptoms_detected">
          <ports in="3" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
      </net>
      <net id="Net" bgColor="-526351">
        <bounds x="-22" y="0" w="1322" h="490"/>
        <frame x="0" y="0" w="1303" h="508"/>
        <viewport x="0" y="0" w="1303" h="508"/>
        <vertex id="OutputCondition">
          <attributes>
            <bounds x="628" y="64" w="36" h="36"/>
          </attributes>
        </vertex>
        <vertex id="InputCondition">
          <attributes>
            <bounds x="52" y="244" w="32" h="32"/>
          </attributes>
        </vertex>
        <container id="Visita_Specialistica">
          <vertex>
            <attributes>
              <bounds x="1.224" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="1.180" y="276" w="122" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_join">
            <position>12</position>
            <attributes>
              <bounds x="1.214" y="244" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Visita_diagnostica">
          <vertex>
            <attributes>
              <bounds x="296" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="260" y="276" w="113" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="327" y="244" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Visita_preliminare">
          <vertex>
            <attributes>
              <bounds x="120" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="88" y="276" w="117" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="151" y="244" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Trattamento_Lieve_">
          <vertex>
            <attributes>
              <bounds x="624" y="148" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="592" y="180" w="97" h="41"/>
            </attributes>
          </label>
        </container>
        <container id="ModificheStileVita">
          <vertex>
            <attributes>
              <bounds x="452" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="420" y="276" w="121" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="483" y="244" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Aderenza">
          <vertex>
            <attributes>
              <bounds x="776" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="740" y="276" w="97" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_join">
            <position>12</position>
            <attributes>
              <bounds x="766" y="244" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Esecuzione_Trattamento">
          <vertex>
            <attributes>
              <bounds x="908" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="876" y="276" w="97" h="41"/>
            </attributes>
          </label>
        </container>
        <container id="Trattamento_Grave_e_Moderato">
          <vertex>
            <attributes>
              <bounds x="624" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="592" y="276" w="97" h="61"/>
            </attributes>
          </label>
        </container>
        <container id="Visita_Follow_Up">
          <vertex>
            <attributes>
              <bounds x="1.056" y="244" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="1.028" y="276" w="97" h="41"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="1.087" y="244" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <flow source="Aderenza" target="Esecuzione_Trattamento">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Trattamento_Grave_e_Moderato" target="Aderenza">
          <ports in="13" out="2"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="InputCondition" target="Visita_preliminare">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="83" y="259,5"/>
              <value x="120" y="259,5"/>
            </points>
          </attributes>
        </flow>
        <flow source="Visita_Follow_Up" target="OutputCondition">
          <ports in="2" out="13"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Trattamento_Lieve_" target="Aderenza">
          <ports in="13" out="2"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_Follow_Up" target="Visita_Specialistica">
          <ports in="2" out="2"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_preliminare" target="Visita_diagnostica">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Esecuzione_Trattamento" target="Visita_Follow_Up">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_preliminare" target="OutputCondition">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="ModificheStileVita" target="Trattamento_Grave_e_Moderato">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="545" y="267,5"/>
              <value x="660" y="299,5"/>
            </points>
          </attributes>
        </flow>
        <flow source="Visita_diagnostica" target="ModificheStileVita">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_Specialistica" target="OutputCondition">
          <ports in="10" out="13"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Visita_preliminare" target="Visita_Specialistica">
          <ports in="2" out="3"/>
          <attributes>
            <lineStyle>13</lineStyle>
            <points>
              <value x="161" y="259,5"/>
              <value x="692" y="392"/>
              <value x="1.190" y="271,25"/>
            </points>
          </attributes>
        </flow>
        <flow source="Visita_diagnostica" target="Visita_Specialistica">
          <ports in="3" out="3"/>
          <attributes>
            <lineStyle>13</lineStyle>
            <points>
              <value x="361" y="275,25"/>
              <value x="748" y="356"/>
              <value x="846" y="39,25"/>
            </points>
          </attributes>
        </flow>
        <flow source="ModificheStileVita" target="Trattamento_Lieve_">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="545" y="267,5"/>
              <value x="660" y="251,5"/>
            </points>
          </attributes>
        </flow>
      </net>
      <net id="Visita_Follow_Up" bgColor="-526351">
        <bounds x="0" y="0" w="1300" h="505"/>
        <frame x="0" y="0" w="1303" h="508"/>
        <viewport x="0" y="0" w="1303" h="508"/>
        <vertex id="InputCondition_3">
          <attributes>
            <bounds x="36" y="260" w="32" h="32"/>
          </attributes>
        </vertex>
        <vertex id="OutputCondition_3">
          <attributes>
            <bounds x="984" y="256" w="32" h="32"/>
          </attributes>
        </vertex>
        <container id="EsitoTrattamento">
          <vertex>
            <attributes>
              <bounds x="852" y="256" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="816" y="288" w="109" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_join">
            <position>12</position>
            <attributes>
              <bounds x="842" y="256" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Valutazione_trattamento">
          <vertex>
            <attributes>
              <bounds x="288" y="260" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="232" y="292" w="150" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Monitoraggio_Non_Assistito">
          <vertex>
            <attributes>
              <bounds x="728" y="112" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="696" y="144" w="97" h="41"/>
            </attributes>
          </label>
        </container>
        <container id="Calcolo_epworth_FU">
          <vertex>
            <attributes>
              <bounds x="512" y="260" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="464" y="292" w="130" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Questionario_PAP_FU">
          <vertex>
            <attributes>
              <bounds x="132" y="260" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="80" y="292" w="141" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Polisonnografia_FU">
          <vertex>
            <attributes>
              <bounds x="728" y="404" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="688" y="436" w="125" h="21"/>
            </attributes>
          </label>
        </container>
        <container id="Scelta_Test">
          <vertex>
            <attributes>
              <bounds x="624" y="260" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="596" y="292" w="97" h="21"/>
            </attributes>
          </label>
          <decorator type="XOR_split">
            <position>13</position>
            <attributes>
              <bounds x="655" y="260" w="11" h="32"/>
            </attributes>
          </decorator>
        </container>
        <container id="Epworth_FU">
          <vertex>
            <attributes>
              <bounds x="408" y="260" w="32" h="32"/>
            </attributes>
          </vertex>
          <label>
            <attributes>
              <bounds x="376" y="292" w="97" h="21"/>
            </attributes>
          </label>
        </container>
        <flow source="Valutazione_trattamento" target="Epworth_FU">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Epworth_FU" target="Calcolo_epworth_FU">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="EsitoTrattamento" target="OutputCondition_3">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="883" y="271,5"/>
              <value x="956" y="267,5"/>
            </points>
          </attributes>
        </flow>
        <flow source="Polisonnografia_FU" target="EsitoTrattamento">
          <ports in="13" out="3"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="739" y="315,5"/>
              <value x="842" y="279,25"/>
            </points>
          </attributes>
        </flow>
        <flow source="Scelta_Test" target="Polisonnografia_FU">
          <ports in="3" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="597" y="279,25"/>
              <value x="708" y="315,5"/>
            </points>
          </attributes>
        </flow>
        <flow source="Scelta_Test" target="Monitoraggio_Non_Assistito">
          <ports in="2" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="597" y="271,5"/>
              <value x="684" y="223,5"/>
            </points>
          </attributes>
        </flow>
        <flow source="Questionario_PAP_FU" target="Valutazione_trattamento">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Calcolo_epworth_FU" target="Scelta_Test">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="InputCondition_3" target="Questionario_PAP_FU">
          <ports in="13" out="12"/>
          <attributes>
            <lineStyle>11</lineStyle>
          </attributes>
        </flow>
        <flow source="Monitoraggio_Non_Assistito" target="EsitoTrattamento">
          <ports in="13" out="3"/>
          <attributes>
            <lineStyle>11</lineStyle>
            <points>
              <value x="715" y="223,5"/>
              <value x="842" y="279,25"/>
            </points>
          </attributes>
        </flow>
      </net>
    </specification>
  </layout>
</specificationSet>
